{% extends 'base.html' %}
{% block title %}Recipes by Tasty{% endblock %}
{% include 'header.html' %}

{% block content %}

<!--<img src="/static/img/tasty_img_main.png"-->
<!--     class="w-100 d-block"-->
<!--     style="margin: 0; padding: 0; height: 730px;"-->
<!--     alt="food"-->
<!--     loading="lazy">-->

<section style="
  background-color: #e1f3f8;
  padding: 70px 0;
" class="w-100" xmlns="http://www.w3.org/1999/html">

  <div class="container-lg rounded overflow-hidden shadow">

    <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000">
      <div class="carousel-inner">
        {% for recipe in all_recipes[6:9] %}
        <div class="carousel-item {% if loop.first %}active{% endif %}">
          <img src="{{ recipe.thumbnail_url }}" class="d-block w-100"
               style="height: 420px; object-fit: cover;" alt="{{ recipe.name }}">

          <div class="carousel-caption d-none d-md-block rounded px-4 py-3"
               style="
                 background: linear-gradient(to right, rgba(255,255,255,0.6), rgba(255,255,255,0.3));
                 color: #222;
               ">
            <h2 class="fw-bold">{{ recipe.name }}</h2>
            <p><strong>{{ recipe.description | truncate(100, True, '...') }}</strong></p>
          </div>
        </div>
        {% endfor %}
      </div>

      <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
      </button>
    </div>

  </div>
</section>

<div class="container py-4">

  <article class="blog-post mb-2 animate-fade-in">
    <h1 class="blog-post-title">Welcome to Tasty!</h1>
    <p>
      Your go-to destination for mouth-watering recipes, culinary inspiration, and expert cooking tips.
      Whether you're a seasoned chef or just starting your kitchen journey,
      <strong>Tasty has something for everyone.</strong>
      Explore a vibrant collection of delicious dishes from around the world,
      handpicked by our passionate food lovers. From quick and easy meals to gourmet creations that will impress your guests, we’ve got you covered.
      Let’s turn everyday cooking into an exciting adventure—because great food starts with inspiration!
    </p>
  </article>
  <div class="container px-2 py-2" id="featured-3">
    <div class="row g-2 py-2 row-cols-1 row-cols-lg-3">
      <div class="feature col">
        <div class="feature-icon d-inline-flex align-items-center justify-content-center text-bg-primary p-3 mb-2 bg-light bg-gradient text-dark">
          <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-alarm" viewBox="0 0 16 16">
            <path d="M8.5 5.5a.5.5 0 0 0-1 0v3.362l-1.429 2.38a.5.5 0 1 0 .858.515l1.5-2.5A.5.5 0 0 0 8.5 9z"/>
            <path d="M6.5 0a.5.5 0 0 0 0 1H7v1.07a7.001 7.001 0 0 0-3.273 12.474l-.602.602a.5.5 0 0 0 .707.708l.746-.746A6.97 6.97 0 0 0 8 16a6.97 6.97 0 0 0
             3.422-.892l.746.746a.5.5 0 0 0 .707-.708l-.601-.602A7.001 7.001 0 0 0 9 2.07V1h.5a.5.5 0 0 0 0-1zm1.038
            3.018a6 6 0 0 1 .924 0 6 6 0 1 1-.924 0M0 3.5c0 .753.333 1.429.86 1.887A8.04 8.04 0 0 1 4.387 1.86 2.5 2.5 0 0 0 0 3.5M13.5 1c-.753 0-1.429.333-1.887.86a8.04 8.04
             0 0 1 3.527 3.527A2.5 2.5 0 0 0 13.5 1"/> </svg>
        </div>
        <h3 class="fs-2 text-body-emphasis">QUICK</h3>
        <p>Ready in 30 minutes or less.</p>
      </div>
      <div class="feature col">
        <div class="feature-icon d-inline-flex align-items-center justify-content-center text-bg-primary p-3 mb-2 bg-light bg-gradient text-dark">
          <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="black" class="bi bi-emoji-smile" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path>
            <path d="M4.285 9.567a.5.5 0 0 1 .683.183A3.5 3.5 0 0 0 8 11.5a3.5 3.5 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.5 4.5 0 0
            1 8 12.5a4.5 4.5 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683M7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5m4 0c0
             .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5"></path>
    </svg>
        </div>
         <h3 class="fs-2 text-body-emphasis">EASY</h3>
        <p>Beginner-friendly recipes.</p>
      </div>
      <div class="feature col">
        <div class="feature-icon d-inline-flex align-items-center justify-content-center text-bg-primary p-3 mb-2 bg-light bg-gradient text-dark">
          <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-cake2" viewBox="0 0 16 16">
  <path d="m3.494.013-.595.79A.747.747 0 0 0 3 1.814v2.683q-.224.051-.432.107c-.702.187-1.305.418-1.745.696C.408 5.56 0 5.954 0 6.5v7c0 .546.408.94.823 1.201.44.278 1.043.51 1.745.696C3.978 15.773 5.898 16 8 16s4.022-.227 5.432-.603c.701-.187 1.305-.418 1.745-.696.415-.261.823-.655.823-1.201v-7c0-.546-.408-.94-.823-1.201-.44-.278-1.043-.51-1.745-.696A12 12 0 0 0 13 4.496v-2.69a.747.747 0 0 0 .092-1.004l-.598-.79-.595.792A.747.747 0 0 0 12 1.813V4.3a22 22 0 0 0-2-.23V1.806a.747.747 0 0 0 .092-1.004l-.598-.79-.595.792A.747.747 0 0 0 9 1.813v2.204a29 29 0 0 0-2 0V1.806A.747.747 0 0 0 7.092.802l-.598-.79-.595.792A.747.747 0 0 0 6 1.813V4.07c-.71.05-1.383.129-2 .23V1.806A.747.747 0 0 0 4.092.802zm-.668 5.556L3 5.524v.967q.468.111 1 .201V5.315a21 21 0 0 1 2-.242v1.855q.488.036 1 .054V5.018a28 28 0 0 1 2 0v1.964q.512-.018 1-.054V5.073c.72.054 1.393.137 2 .242v1.377q.532-.09 1-.201v-.967l.175.045c.655.175 1.15.374 1.469.575.344.217.356.35.356.356s-.012.139-.356.356c-.319.2-.814.4-1.47.575C11.87 7.78 10.041 8 8 8c-2.04 0-3.87-.221-5.174-.569-.656-.175-1.151-.374-1.47-.575C1.012 6.639 1 6.506 1 6.5s.012-.139.356-.356c.319-.2.814-.4 1.47-.575M15 7.806v1.027l-.68.907a.94.94 0 0 1-1.17.276 1.94 1.94 0 0 0-2.236.363l-.348.348a1 1 0 0 1-1.307.092l-.06-.044a2 2 0 0 0-2.399 0l-.06.044a1 1 0 0 1-1.306-.092l-.35-.35a1.935 1.935 0 0 0-2.233-.362.935.935 0 0 1-1.168-.277L1 8.82V7.806c.42.232.956.428 1.568.591C3.978 8.773 5.898 9 8 9s4.022-.227 5.432-.603c.612-.163 1.149-.36 1.568-.591m0 2.679V13.5c0 .006-.012.139-.356.355-.319.202-.814.401-1.47.576C11.87 14.78 10.041 15 8 15c-2.04 0-3.87-.221-5.174-.569-.656-.175-1.151-.374-1.47-.575-.344-.217-.356-.35-.356-.356v-3.02a1.935 1.935 0 0 0 2.298.43.935.935 0 0 1 1.08.175l.348.349a2 2 0 0 0 2.615.185l.059-.044a1 1 0 0 1 1.2 0l.06.044a2 2 0 0 0 2.613-.185l.348-.348a.94.94 0 0 1 1.082-.175c.781.39 1.718.208 2.297-.426"/>
</svg>
        </div>
      <h3 class="fs-2 text-body-emphasis">DELICIOUS</h3> <p>Only tasty recipes.</p>
    </div>
    </div>
  </div>

  <h2 class="pb-1 mb-1">Check our recipes!</h2>


<form action="{{ url_for('search') }}" method="GET" class="mb-4">
  <div class="input-group">
    <input type="text" name="query" class="form-control" placeholder="Search by recipe name or ingredient..." required>
<button type="submit" class="btn text-white shadow-sm" style="background-color: #0085a1;">
  Search
</button>
  </div>
</form>
  <section>
    {% for recipe in all_recipes %}
      {% if loop.index0 % 3 == 0 %}
        <div class="row justify-content-center">
      {% endif %}

<div class="col-lg-4 d-flex justify-content-center mt-5 align-items-stretch">
  <div class="card recipe-card shadow-sm" style="width: 25rem;">
    <a href="{{ url_for('single_recipe', index=recipe.id) }}">
      <img src="{{ recipe.thumbnail_url }}" class="card-img-top img-fluid object-fit-cover"
           style="height: 300px;" alt="{{ recipe.name }}"></a>
    <div class="card-body d-flex flex-column justify-content-between">
      <div>
        <h5 class="card-title">{{ recipe.name | escape }}</h5>
        <p class="card-text">{{ recipe.description | truncate(200, True, '...') }}</p>
      </div>
      <a href="{{ url_for('single_recipe', index=recipe.id) }}" class="btn btn-primary mt-3">See more details</a>
    </div>
  </div>
</div>


      {% if loop.index0 % 3 == 2 or loop.last %}
        </div>
      {% endif %}
    {% endfor %}
  </section>

</div>

{% endblock %}
